# סיכום מערכת ניתוח מסמכים פיננסיים - גרסה 2.1

## תקציר הפרויקט
מערכת ניתוח מסמכים פיננסיים היא מערכת AI שפותחה כדי לאפשר למשתמשים להעלות מסמכים פיננסיים (כגון PDF, Excel ו-CSV), לנתח אותם באמצעות AI, ולקיים שיחה אינטראקטיבית עם המסמכים באמצעות צ'אטבוט. המערכת משלבת טכנולוגיות OCR (זיהוי תווים אופטי) עם מודלים מתקדמים של NLP כדי לחלץ ולנתח מידע פיננסי.

## ארכיטקטורת המערכת

### Backend
- **שפה**: Python
- **מסגרת**: Flask (שרת web)
- **מסד נתונים**: MongoDB (מאוחסן בדוקר)
- **טכנולוגיות AI**:
  - Hugging Face API (מודל Mistral-7B-Instruct-v0.2)
  - מודל מקומי לגיבוי במקרה שאין מפתח API
  - Tesseract OCR לחילוץ טקסט מתמונות ו-PDF

### Frontend
- **שפות**: HTML, CSS, JavaScript
- **ממשק משתמש**: ממשק מותאם בעברית, עם תמיכה בתצוגה רספונסיבית
- **רכיבים עיקריים**:
  - טופס העלאת מסמכים
  - רשימת מסמכים שהועלו
  - צ'אטבוט אינטראקטיבי

## מבנה הקבצים
```
/workspaces/back/
├── agent_framework/          # מסגרת הסוכנים החכמים
│   ├── coordinator.py       # מתאם בין הסוכנים השונים
│   ├── memory_agent.py      # סוכן לניהול זיכרון ושמירת מידע
│   └── __init__.py
│
├── routes/                  # ניתוב בקשות HTTP
│   ├── document_routes.py   # ניתוב לטיפול במסמכים
│   ├── langchain_routes.py  # ניתוב לפעולות AI
│   └── __init__.py
│
├── models/                  # מודלים של בסיס הנתונים
│   ├── document_models.py   # מודל למסמכים
│   └── __init__.py
│
├── services/               # שירותי עסקים
│   └── document_service.py # לוגיקה עסקית לטיפול במסמכים
│
├── utils/                  # כלי עזר
│   └── pdf_processor.py    # מעבד קבצי PDF
│
├── uploads/               # תיקיית העלאת קבצים
├── data/                  # תיקיית נתונים מעובדים
│   ├── embeddings/        # וקטורים וembeddings
│   └── templates/         # תבניות
│
├── frontend/build/        # קבצי הבuild של הפרונטאנד
│   ├── index.html
│   ├── static/css/        # קבצי CSS
│   ├── static/js/         # קבצי JavaScript
│   └── static/media/      # תמונות ומדיה
│
├── logs/                  # קבצי לוג
├── tests/                 # בדיקות
├── app.py                # אפליקציית Flask הראשית
├── start.py              # סקריפט הפעלה
├── create_dirs.py        # סקריפט ליצירת תיקיות
├── VERSION.md            # תיעוד גרסה
├── .env                  # משתני סביבה
└── docker-compose.yml    # תצורת Docker
```

## תיקונים משמעותיים שבוצעו בגרסה האחרונה (2.1)

1. **שדרוג מנגנון הצ'אטבוט**:
   - שיפרנו את ממשק הצ'אטבוט והוספנו תמיכה מלאה בכל גדלי המסך
   - פתרנו בעיות תצוגה שונות והוספנו סגנונות CSS מותאמים
   - הוספנו מנגנון טעינה חכם וניהול שיחות בצורה טובה יותר

2. **שדרוג מנגנון API Health**:
   - הוספנו ניטור מתקדם לסטטוס השירותים השונים במערכת
   - שיפרנו את הלוגיקה המזהה מתי המערכת משתמשת במודל דמה

3. **שיפור משמעותי במנגנון OCR**:
   - הוספנו תמיכה בשפות נוספות
   - שיפרנו את איכות זיהוי הטקסט בעברית באמצעות הגדרות מותאמות
   - הוספנו מנגנון גיבוי לשיטות OCR שונות

4. **ניהול API מאובטח יותר**:
   - שיפרנו את האחסון והטיפול במפתחות API
   - הוספנו בדיקות תקינות מתקדמות
   - הוספנו מנגנון ניסיון חוזר עם הפחתת עומסים

5. **ממשק מסמכים משודרג**:
   - שיפרנו את תצוגת רשימת המסמכים
   - הוספנו תמיכה בתצוגה מקדימה של מסמכים
   - שיפרנו את ממשק העלאת הקבצים

6. **שיפור התיעוד והפצה**:
   - הוספנו תיעוד מפורט יותר עם דוגמאות שימוש
   - הוספנו מערכת גרסאות מסודרת
   - שיפרנו את הוראות ההתקנה וההפעלה

7. **בדיקות אוטומטיות מורחבות**:
   - הרחבנו את כיסוי הבדיקות לפונקציונליות מלאה של המערכת
   - הוספנו בדיקות אינטגרציה
   - שיפרנו את הדיווח על שגיאות

## כיצד להמשיך את הפיתוח

הגרסה העדכנית ביותר היא **גרסה 2.1**. להמשך פיתוח ניתן להתמקד ב:

1. **יכולות AI מתקדמות**:
   - שילוב מודלים ייעודיים לניתוח פיננסי
   - הוספת זיהוי ישויות פיננסיות מתקדם
   - שילוב מנועי תרגום לתמיכה בשפות נוספות

2. **תמיכה במסמכים נוספים**:
   - הוספת תמיכה מלאה במסמכי Word, תמונות ופורמטים מיוחדים
   - פיתוח מנגנון חילוץ חכם יותר לטבלאות ונתונים מובנים

3. **ממשק ניהול מתקדם**:
   - פיתוח לוח בקרה למנהלי מערכת
   - תמיכה בניהול משתמשים וקבוצות
   - מערכת היסטוריה והתראות

4. **אבטחה ופרטיות**:
   - הוספת אימות דו-שלבי
   - הצפנת מסמכים מקצה לקצה
   - מנגנון מידור מתקדם לנתונים רגישים

5. **ויזואליזציה וניתוח מתקדם**:
   - הוספת גרפים וויזואליזציות אינטראקטיביות
   - דוחות אוטומטיים וניתוח מגמות
   - ממשק חקירת נתונים אינטראקטיבי

כדי להתחיל לעבוד עם הגרסה העדכנית, עקוב אחר ההוראות ב-README:
1. שכפל את הרפוזיטורי: `git clone https://github.com/aviadkim/back.git`
2. התקן תלויות: `pip install -r requirements.txt`
3. הגדר את קובץ ה-.env עם מפתח Hugging Face API תקף
4. הרץ: `python start.py`
5. גש לכתובת: `http://localhost:5000`

הגרסה 2.1 כוללת את כל התיקונים שנמנו לעיל ומציעה חווית משתמש משופרת באופן משמעותי, ביצועים משופרים וניתוח מסמכים מדויק יותר.
